<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <title>Calculator</title>
</head>
<style>
  button:hover {
    background: green;
  }
</style>
<h1>Calculator</h1>
<script>
  function callCalculatorAndDisplayResult(url, targetElementId) {
    fetch(url, { method: "GET" })
      .then(response => {
        if (response.ok) {
          return response.text()
        } else {
          throw new Error(response.statusText)
        }
      })
      .then(data => {
        document.getElementById(targetElementId).innerHTML = data
        // Process the response data here
        console.log(data); // Example: Logging the data to the console
      })
      .catch(error => {
        document.getElementById(targetElementId).innerHTML = error
        // Handle any errors here
        console.error(error); // Example: Logging the error to the console
      });
  }
  function addition() {
    const inputValue1 = document.getElementById("firstNumber").valueAsNumber
    const inputValue2 = document.getElementById("secondNumber").valueAsNumber;

    const targetElementId = "sum"
    const url = 'http://127.0.0.1:5000/add?n1=' + inputValue1 + '&n2=' + inputValue2
    callCalculatorAndDisplayResult(url, targetElementId)
  }

  function subtraction() {
    var inputValue1 = document.getElementById("firstNumber").valueAsNumber
    var inputValue2 = document.getElementById("secondNumber").valueAsNumber;

    const targetElementId = "difference"
    const url = 'http://127.0.0.1:5000/sub?n1=' + inputValue1 + '&n2=' + inputValue2
    callCalculatorAndDisplayResult(url, targetElementId)
  }

  function multiplication() {
    var inputValue1 = document.getElementById("firstNumber").valueAsNumber
    var inputValue2 = document.getElementById("secondNumber").valueAsNumber;

    const targetElementId = "product"
    const url = 'http://127.0.0.1:5000/mul?n1=' + inputValue1 + '&n2=' + inputValue2
    callCalculatorAndDisplayResult(url, targetElementId)
  }
  function division() {
    var inputValue1 = document.getElementById("firstNumber").valueAsNumber
    var inputValue2 = document.getElementById("secondNumber").valueAsNumber;

    const targetElementId = "quotient"
    const url = 'http://127.0.0.1:5000/div?n1=' + inputValue1 + '&n2=' + inputValue2
    callCalculatorAndDisplayResult(url, targetElementId)
  }

</script>

<body style="background-color:skyblue;">
  <label>First Number: </label><input type="number" id="firstNumber">
  <label> Second Number: </label>
  <input type="number" id="secondNumber">
  <br/>
  &nbsp;
  <div>
    <button onclick="addition()">Add</button>
    <button onclick="subtraction()">Subtract</button>
    <button onclick="multiplication()">Multiply</button>
    <button onclick="division()">Divide</button>
  </div>


  <p id="sum"></p>
  <p id="difference"></p>
  <p id="product"></p>
  <p id="quotient"></p>
</body>

</html>